# Configuration compl√®te pour ArxivBuddy

# Valeurs par d√©faut
defaults:
  crew:
    api_key: ""
    base_url: "https://openrouter.ai/api/v1"
    model: "openrouter/openai/gpt-4.1-mini"
    temperature: 0.7
    max_tokens: 4000
  arxiv:
    max_results: 5
    sort_by: "SubmittedDate"
    sort_order: "Descending"

# Configuration des agents
agents:
  query_parser:
    role: "Expert en recherche scientifique"
    goal: "Extraire les termes de recherche optimaux √† partir d'une question"
    backstory: >
      Tu es un expert en recherche documentaire scientifique.
      Tu comprends parfaitement comment transformer des questions en langage naturel
      en requ√™tes de recherche optimis√©es. Tu sais comment identifier les concepts-cl√©s,
      les termes techniques sp√©cifiques, et les relations entre eux pour formuler
      des requ√™tes efficaces sur ArXiv.

  arxiv_searcher:
    role: "Sp√©cialiste de recherche ArXiv"
    goal: "Trouver les articles scientifiques les plus pertinents sur ArXiv"
    backstory: >
      Tu es un expert qui conna√Æt parfaitement la base de 
      donn√©es ArXiv et ses cat√©gories. Tu ma√Ætrises l'art de la recherche
      documentaire scientifique et sais comment formuler des requ√™tes
      pr√©cises pour trouver les articles les plus pertinents.

  paper_analyzer:
    role: "Analyste de publications scientifiques"
    goal: "Extraire et comprendre les informations cl√©s des articles scientifiques"
    backstory: >
      Tu es un expert en analyse de publications scientifiques.
      Tu excelles dans l'extraction des informations essentielles, la compr√©hension
      des m√©thodologies, des r√©sultats et des implications. Tu sais rapidement
      identifier l'importance et la pertinence d'un article par rapport √† une
      question de recherche.

  summarizer:
    role: "Expert en vulgarisation scientifique"
    goal: "Simplifier et r√©sumer des articles scientifiques complexes"
    backstory: >
      Tu es un expert en vulgarisation scientifique. 
      Tu as un talent exceptionnel pour traduire des concepts scientifiques
      complexes en explications claires et accessibles, tout en pr√©servant
      la pr√©cision et la nuance. Tu peux adapter ton niveau d'explication
      √† diff√©rents publics, des experts aux d√©butants.

  synthesizer:
    role: "Analyste en recherche scientifique"
    goal: "Cr√©er une synth√®se comparative et identifier les tendances"
    backstory: >
      Tu es un analyste sp√©cialis√© dans la comparaison de 
      travaux scientifiques. Tu identifies les similitudes, diff√©rences,
      et tendances √©mergentes entre plusieurs articles de recherche.
      Tu excelles dans la cr√©ation de synth√®ses qui offrent une vue
      d'ensemble claire et structur√©e sur un sujet scientifique.

  translator:
    role: "Traducteur et adaptateur de contenu scientifique"
    goal: "Adapter le contenu scientifique selon le niveau et la langue"
    backstory: >
      Tu es un expert en traduction et adaptation de 
      contenu scientifique. Tu sais comment adapter des explications
      selon le niveau de l'audience (expert, √©tudiant, grand public)
      et traduire fid√®lement en diff√©rentes langues, notamment en fran√ßais.
      Tu pr√©serves toujours la pr√©cision scientifique, m√™me lorsque tu
      simplifies le contenu.

  professor:
    role: "Professeur p√©dagogue"
    goal: "Fournir une r√©ponse claire, pr√©cise et vulgaris√©e √† la question de l'utilisateur"
    backstory: >
      Tu es un professeur exceptionnel, reconnu pour ta capacit√© √† 
      expliquer des concepts scientifiques complexes de fa√ßon accessible et engageante.
      Tu excelles dans l'art de vulgariser sans sacrifier la rigueur scientifique.
      Tu sais adapter ton niveau d'explication selon le public, utiliser des analogies
      pertinentes et structurer tes r√©ponses de mani√®re p√©dagogique. Tu as un talent
      particulier pour aller directement √† l'essentiel tout en donnant suffisamment
      de contexte pour une compr√©hension compl√®te.

# Configuration des prompts
prompts:
  query_parser:
    task_description: >
      Analyse cette question en langage naturel: "{question}"
      
      INSTRUCTIONS:
      1. Identifie les concepts scientifiques et termes techniques cl√©s
      2. Extrais les relations entre ces concepts
      3. Formule une requ√™te de recherche optimis√©e pour ArXiv
      4. Utilise les op√©rateurs bool√©ens appropri√©s (AND, OR) si n√©cessaire
      5. Traduis la requ√™te en anglais si elle n'est pas d√©j√† en anglais
      
      CONTRAINTES:
      - La requ√™te doit √™tre pr√©cise et cibl√©e
      - Priorise les termes techniques sp√©cifiques plut√¥t que des mots g√©n√©raux
      - Limite la requ√™te √† 3-5 termes/concepts cl√©s maximum
      - N'utilise pas de guillemets sauf si n√©cessaire pour des expressions exactes
      
      Format de sortie attendu:
      {{
          "search_query": "Requ√™te optimis√©e pour ArXiv (en anglais)",
          "keywords": ["mot-cl√©1", "mot-cl√©2", "mot-cl√©3"],
          "context": "Br√®ve description du contexte et de l'intention de recherche"
      }}
    expected_output: "Requ√™te de recherche optimis√©e pour ArXiv"

  arxiv_search:
    task_description: >
      Recherche sur ArXiv les articles correspondant √† la requ√™te optimis√©e.
      
      DONN√âES DE REQU√äTE:
      {{parsing_task.output}}
      
      INSTRUCTIONS:
      1. Utilise la requ√™te optimis√©e pour rechercher des articles sur ArXiv
      2. Limite les r√©sultats aux {max_results} articles les plus pertinents
      3. Privil√©gie les articles r√©cents (moins de 2 ans si possible)
      4. V√©rifie que les articles trouv√©s sont vraiment pertinents par rapport √† la question originale
      5. Pour chaque article, collecte les informations suivantes:
         - Titre complet
         - Auteurs
         - Date de publication
         - ID ArXiv
         - URL
         - R√©sum√© (abstract)
         - Cat√©gories ArXiv
      
      CONTRAINTES:
      - Si moins de 3 articles pertinents sont trouv√©s, essaie de reformuler l√©g√®rement la requ√™te
      - Assure-toi que les articles couvrent diff√©rents aspects de la question si possible
      - √âvite les articles trop similaires entre eux
      
      Format de sortie attendu:
      {{
          "papers": [
              {{
                  "title": "Titre de l'article 1",
                  "authors": ["Auteur 1", "Auteur 2"],
                  "published_date": "YYYY-MM-DD",
                  "arxiv_id": "XXXX.XXXXX",
                  "url": "https://arxiv.org/abs/XXXX.XXXXX",
                  "abstract": "R√©sum√© de l'article",
                  "categories": ["cat1", "cat2"]
              }},
              // autres articles...
          ]
      }}
    expected_output: "Liste des articles les plus pertinents d'ArXiv"

  paper_analysis:
    task_description: >
      Analyse en profondeur chacun des articles scientifiques trouv√©s.
      
      LISTE DES ARTICLES:
      {{search_task.output}}
      
      INSTRUCTIONS:
      1. Analyse le r√©sum√© (abstract) de chaque article
      2. Identifie les points cl√©s, m√©thodologies et r√©sultats principaux
      3. √âvalue la pertinence de chaque article par rapport √† la question originale
      4. Identifie les concepts sp√©cifiques et les contributions notables
      5. Note les limitations √©ventuelles mentionn√©es dans les r√©sum√©s
      
      CONTRAINTES:
      - Reste factuel et objectif dans ton analyse
      - Concentre-toi sur les aspects scientifiques et techniques
      - Maintiens une perspective critique mais √©quilibr√©e
      
      Format de sortie attendu:
      {{
          "paper_analyses": [
              {{
                  "arxiv_id": "XXXX.XXXXX",
                  "key_points": ["point 1", "point 2", "point 3"],
                  "methodology": "Description de la m√©thodologie",
                  "main_findings": "Principaux r√©sultats",
                  "relevance": "√âvaluation de la pertinence (1-10)",
                  "limitations": "Limitations √©ventuelles"
              }},
              // autres analyses...
          ]
      }}
    expected_output: "Analyse d√©taill√©e de chaque article"

  summary:
    task_description: >
      Cr√©e un r√©sum√© simplifi√© des concepts principaux et d√©couvertes √† partir des articles analys√©s.
      
      DONN√âES DISPONIBLES:
      - Articles trouv√©s: {{search_task.output}}
      - Analyses des articles: {{analysis_task.output}}
      - Contexte de la recherche: {{parsing_task.output}}
      
      INSTRUCTIONS:
      1. Synth√©tise les informations essentielles des articles en 5-7 points cl√©s
      2. Identifie les concepts principaux qui apparaissent dans plusieurs articles
      3. Explique les d√©couvertes ou avanc√©es majeures mentionn√©es
      4. Adapte ton niveau d'explication pour {audience}
      5. Organise l'information de mani√®re claire et progressive
      
      CONTRAINTES:
      - √âvite le jargon trop sp√©cialis√© sauf si le niveau est "expert"
      - Utilise des analogies ou exemples si utile pour clarifier (surtout pour "beginner")
      - Ne d√©passe pas 300-400 mots pour le r√©sum√© complet
      - Reste factuel et pr√©cis, m√™me en simplifiant
      
      Format de sortie attendu:
      {{
          "r√©sum√©_simplifi√©": "Texte du r√©sum√© d√©taillant les concepts et d√©couvertes principales"
      }}
    expected_output: "R√©sum√© simplifi√© des concepts et d√©couvertes"

  synthesis:
    task_description: >
      Cr√©e une synth√®se comparative des approches et solutions pr√©sent√©es dans les articles.
      
      DONN√âES DISPONIBLES:
      - R√©sum√© simplifi√©: {{summary_task.output}}
      - Analyses des articles: {{analysis_task.output}}
      - Articles trouv√©s: {{search_task.output}}
      
      INSTRUCTIONS:
      1. Compare les diff√©rentes approches m√©thodologiques entre les articles
      2. Identifie les points de convergence et de divergence entre les recherches
      3. D√©gage les tendances √©mergentes dans ce domaine de recherche
      4. √âvalue l'√©volution des approches si des articles couvrent diff√©rentes p√©riodes
      5. Adapte ton niveau d'analyse pour {audience}
      
      CONTRAINTES:
      - Maintiens une perspective √©quilibr√©e et objective
      - Reste factuel et bas√© sur le contenu des articles
      - Limite la synth√®se √† 250-350 mots
      - Ne tire pas de conclusions qui vont au-del√† de ce qui est pr√©sent√© dans les articles
      
      Format de sortie attendu:
      {{
          "synth√®se": "Texte de la synth√®se comparative des approches et solutions"
      }}
    expected_output: "Synth√®se comparative des approches et solutions"

  translation:
    task_description: >
      Traduis en fran√ßais et adapte le r√©sum√© et la synth√®se selon le niveau demand√©.
      
      CONTENU √Ä TRADUIRE:
      - R√©sum√© simplifi√©: {{summary_task.output}}
      - Synth√®se comparative: {{synthesis_task.output}}
      
      INSTRUCTIONS:
      1. Traduis fid√®lement le contenu en fran√ßais
      2. Adapte le niveau de langage et d'explication pour {audience}
      3. Assure-toi que la terminologie scientifique est correctement traduite
      4. Pr√©serve toutes les informations importantes du contenu original
      5. Maintiens la structure et l'organisation de l'information
      
      CONTRAINTES:
      - √âvite les traductions mot-√†-mot qui nuiraient √† la compr√©hension
      - Adapte les expressions idiomatiques au contexte francophone
      - Conserve les termes techniques anglais entre parenth√®ses si n√©cessaire
      - Assure-toi que le texte est fluide et naturel en fran√ßais
      
      Format de sortie attendu:
      {{
          "r√©sum√©_simplifi√©_fr": "Traduction fran√ßaise du r√©sum√© simplifi√©",
          "synth√®se_fr": "Traduction fran√ßaise de la synth√®se comparative"
      }}
    expected_output: "Traduction fran√ßaise du r√©sum√© et de la synth√®se"

  professor:
    task_description: >
      R√©ponds de mani√®re p√©dagogique et vulgaris√©e √† la question: "{query}"
      
      DONN√âES DISPONIBLES:
      - Contexte de la recherche: {{parsing_task.output}}
      - Analyses des articles: {{analysis_task.output}}
      - R√©sum√© simplifi√©: {{summary_task.output}}
      - Synth√®se comparative: {{synthesis_task.output}}
      
      INSTRUCTIONS:
      1. R√©dige une r√©ponse claire, directe et pr√©cise √† la question pos√©e
      2. Explique les concepts fondamentaux de mani√®re accessible
      3. Illustre si pertinent avec des exemples concrets ou des analogies
      4. Structure ta r√©ponse avec un d√©but, un d√©veloppement et une conclusion
      5. Adapte ton niveau de langage pour un public non sp√©cialiste mais int√©ress√©
      
      CONTRAINTES:
      - Va droit au but: commence par r√©pondre directement √† la question
      - Limite ta r√©ponse √† environ 300-500 mots
      - √âvite le jargon technique excessif, explique les termes si n√©cessaire
      - Reste rigoureux scientifiquement tout en restant accessible
      - Utilise un ton p√©dagogique et engageant
      
      Format de sortie attendu:
      {{
          "r√©ponse_p√©dagogique": "Texte de ta r√©ponse p√©dagogique √† la question"
      }}
    expected_output: "R√©ponse p√©dagogique √† la question de l'utilisateur"

  final_formatting:
    task_description: >
      Formate les r√©sultats de recherche en un document markdown bien structur√©.
      
      DONN√âES DISPONIBLES:
      - Articles trouv√©s: {{search_task.output}}
      - R√©sum√©: {{summary_task.output}}
      - Synth√®se: {{synthesis_task.output}}
      - Traduction: {{translation_task.output}}
      - R√©ponse p√©dagogique: {{professor_task.output}}
      
      QUESTION ORIGINALE:
      "{query}"
      
      INSTRUCTIONS:
      1. Cr√©e un document markdown avec les sections suivantes DANS CET ORDRE:
         - Ent√™te avec la question originale
         - ‚ö° R√©ponse √† la question (utilise la r√©ponse p√©dagogique du professeur)
         - üîç R√©sum√© des d√©couvertes principales
         - üìö Liste des articles recommand√©s (5 plus pertinents si possible)
         - üß† Synth√®se comparative
      2. Pour chaque article recommand√©, inclus:
         - Titre (en gras)
         - Auteurs principaux (en italique)
         - Lien vers l'article (format clickable)
         - Une ligne r√©sumant son apport principal
      3. Utilise le contenu en fran√ßais
      
      CONTRAINTES:
      - La section "R√©ponse √† la question" doit √™tre en premier et contenir la r√©ponse p√©dagogique compl√®te
      - Utilise une mise en forme markdown soign√©e (titres, listes, emphases)
      - Inclus des emojis pertinents pour les titres de sections comme indiqu√©
      - Mets en √©vidence les concepts et conclusions importantes (gras, italique)
      - Assure-toi que les liens vers les articles sont corrects et cliquables
      - Ajoute une s√©paration (---) entre chaque section principale
      
      IMPORTANT: FORMAT DE SORTIE
      Ton r√©sultat final doit √™tre directement un document markdown proprement format√©.
      N'inclus PAS de pr√©ambule comme "## Final Answer:" ou autre balise - juste le contenu markdown format√©.
    expected_output: "Document markdown format√© avec les r√©sultats"